<!doctype html><html lang="vi"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>ECN Manager — Đăng nhập</title>
<style>body{font-family:system-ui,Segoe UI,Arial;margin:0;background:#f6f7fb}main{max-width:460px;margin:8vh auto;padding:24px;background:#fff;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.08)}h1{margin:0 0 16px}input,button{width:100%;padding:12px 14px;border:1px solid #ddd;border-radius:12px;font-size:16px}button{background:#111;color:#fff;border:none;margin-top:10px;cursor:pointer}</style>
</head><body>
<main>
  <h1>Đăng nhập</h1>
  <label>Tài khoản</label>
  <input id="u" placeholder="email hoặc ID (U004)"/>
  <label style="margin-top:8px;display:block">Mật khẩu</label>
  <input id="p" type="password" placeholder="mật khẩu (bao, minh, lan, quang)"/>
  <button id="go">Vào hệ thống</button>
  <small>Demo: U004/bao, U001/minh, U002/lan, U003/quang</small>
</main>
<script>
document.getElementById('go').onclick=async()=>{
  const body={username:document.getElementById('u').value.trim(),password:document.getElementById('p').value.trim()};
  const r=await fetch('auth/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)});
  if(!r.ok){alert('Sai tài khoản hoặc mật khẩu');return;}
  const data=await r.json();
  sessionStorage.setItem('ecn.jwt',data.accessToken);
  location.href='ecn.html#autologin&ts='+Date.now();
};
</script>
</body></html>